{"version":3,"file":"main.bundle.js","mappings":"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","sources":["webpack://keksobooking/./source/js/send-form-validation.js","webpack://keksobooking/webpack/bootstrap","webpack://keksobooking/./source/js/activemap.js","webpack://keksobooking/./source/js/map.js","webpack://keksobooking/./source/js/fetch.js","webpack://keksobooking/./source/js/filters.js","webpack://keksobooking/./source/js/declarations.js","webpack://keksobooking/./source/js/main.js"],"sourcesContent":["const typeOfHouse = document.querySelector('#type');\nconst minPrice = document.querySelector('#price');\nconst timeIn = document.querySelector('#timein');\nconst timeOut = document.querySelector('#timeout');\nconst capacity = document.querySelector('#capacity');\nconst roomNumber = document.querySelector('#room_number');\nconst avatarInput = document.querySelector('.ad-form-header__input');\nconst avatarPreviewContainer = document.querySelector('.ad-form-header__preview');\nconst avatarPreview = avatarPreviewContainer.querySelector('img');\nconst photoInput = document.querySelector('.ad-form__input');\nconst photoPreviewContainer = document.querySelector('.ad-form__photo');\nconst IMAGE_TYPES = ['jpg', 'png']\n\navatarInput.addEventListener('change', () => {\n  const fileAvatar = avatarInput.files[0];\n  const fileAvatarName = fileAvatar.name.toLowerCase();\n  const accepted = IMAGE_TYPES.some((it) => {\n    return fileAvatarName.endsWith(it);\n  })\n  if(accepted) {\n    const reader = new FileReader();\n    reader.addEventListener('load', ()=>{\n      avatarPreview.src = reader.result;\n    });\n\n    reader.readAsDataURL(fileAvatar)\n  }\n})\n\nphotoInput.addEventListener('change', () => {\n  const fileAvatar = photoInput.files[0];\n  const fileAvatarName = fileAvatar.name.toLowerCase();\n  const accepted = IMAGE_TYPES.some((it) => {\n    return fileAvatarName.endsWith(it);\n  })\n  if(accepted) {\n    const reader = new FileReader();\n    const photoPreview = document.createElement('img')\n    photoPreview.width = 70\n    photoPreview.height = 70\n    photoPreviewContainer.appendChild(photoPreview)\n    reader.addEventListener('load', ()=>{\n      photoPreview.src = reader.result;\n    });\n\n    reader.readAsDataURL(fileAvatar)\n  }\n})\n\n\ntypeOfHouse.addEventListener('change',  () => {\n  switch(typeOfHouse.value) {\n    case 'palace' : minPrice.min = 10000, minPrice.placeholder = 10000;\n    break\n    case 'flat' : minPrice.min = 1000; minPrice.placeholder = 1000\n    break\n    case 'house' : minPrice.min = 5000; minPrice.placeholder = 5000\n    break\n    case 'bungalow' : minPrice.min = 0; minPrice.placeholder = 0\n  }\n})\n\ntimeIn.addEventListener('change', function () {\n  switch(timeIn.value) {\n    case '12:00' : timeOut.value = '12:00'\n    break\n    case '13:00' : timeOut.value = '13:00'\n    break\n    case '14:00' : timeOut.value = '14:00'\n    break\n  }\n})\n\ntimeOut.addEventListener('change', ()=> {\n  switch(timeOut.value) {\n    case '12:00' : timeIn.value = '12:00'\n    break\n    case '13:00' : timeIn.value = '13:00'\n    break\n    case '14:00' : timeIn.value = '14:00'\n    break\n  }\n})\n\nroomNumber.addEventListener('change', ()=> {\n  capacity.setCustomValidity('')\n    if ((roomNumber.value === '1' && capacity.value > '1') || (roomNumber.value === '1' && capacity.value === '0')) {\n    roomNumber.setCustomValidity('в одну комнату один гость')\n  } else if (roomNumber.value === '2' && capacity.value > '2') {\n    roomNumber.setCustomValidity('Маловато комнат')\n  } else if (roomNumber.value === '2' && capacity.value === '0') {\n    roomNumber.setCustomValidity('Многовато гостей для двух комнат')\n  } else if (roomNumber.value === '3' && capacity.value ==='0') {\n    roomNumber.setCustomValidity('Нужно больше комнат');\n  } else if (roomNumber.value === '100' && capacity.value > 0) {\n    roomNumber.setCustomValidity('Слишком много комнат')\n  } else {\n    roomNumber.setCustomValidity('')\n  }\n  roomNumber.reportValidity()\n})\n\ncapacity.addEventListener('change', ()=> {\n  roomNumber.setCustomValidity('')\n    if ((roomNumber.value === '1' && capacity.value > '1') || (roomNumber.value === '1' && capacity.value === '0')) {\n    capacity.setCustomValidity('в одну комнату один гость')\n  } else if (roomNumber.value === '2' && capacity.value > '2') {\n    capacity.setCustomValidity('Многовато гостей для двух комнат')\n  } else if (roomNumber.value === '2' && capacity.value === '0') {\n    capacity.setCustomValidity('Многовато гостей для двух комнат')\n  } else if (roomNumber.value === '3' && capacity.value ==='0') {\n    capacity.setCustomValidity('Нужно больше комнат')\n  } else if (roomNumber.value === '100' && capacity.value > 0) {\n    capacity.setCustomValidity('Слишком много комнат')\n    roomNumber.setCustomValidity('')\n  } else {\n    capacity.setCustomValidity('')\n  }\n  capacity.reportValidity()\n})\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const adForm = document.querySelector('.ad-form');\nconst adFormItems = adForm.children\nconst mapFilters = document.querySelector('.map__filters');\nconst mapFiltersItems = mapFilters.children\n\nfor (let i = 0; i < mapFiltersItems.length; i++) {\n  mapFiltersItems[i].setAttribute('disabled', 'disabled')\n}\nmapFilters.classList.add('ad-form--disabled');\n\n\nfor (let i = 0; i < adFormItems.length; i++) {\n  adFormItems[i].setAttribute('disabled', 'disabled')\n}\nadForm.classList.add('ad-form--disabled');\n\nconst activatePage = () => {\n    adForm.classList.remove('ad-form--disabled');\n    for (let i = 0; i < adFormItems.length; i++) {\n      adFormItems[i].removeAttribute('disabled', 'disabled')\n    }\n    for (let i = 0; i < mapFiltersItems.length; i++) {\n      mapFiltersItems[i].removeAttribute('disabled', 'disabled')\n  }\n      mapFilters.classList.remove('ad-form--disabled');\n  }\nexport {activatePage}\n","import { activatePage } from \"./activemap.js\";\n\nconst address = document.querySelector('#address');\n\nconst map = L.map('map-canvas')\n  .on('load', () => {\n    activatePage()\n})\n  .setView({\n    lat: 35.41255,\n    lng: 139.41238\n  }, 10)\n\nL.tileLayer(\n  'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n  {\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n  },\n).addTo(map)\n\nconst mainPinIcon = L.icon({\n  iconUrl : './leaflet/img/main-pin.svg',\n  iconSize: [52, 52],\n  iconAnchor: [26, 52],\n})\n\nlet marker = L.marker(\n  {\n    lat: 35.41255,\n    lng: 139.41238\n  },\n  {\n    draggable: true,\n    icon: mainPinIcon\n  }\n)\nmarker.addTo(map)\n\nconst sameIcon = L.icon({\n  iconUrl : './leaflet/img/pin.svg',\n  iconSize: [40, 40],\n  iconAnchor: [20, 40],\n})\n\n\nconst setStartAddress = () => {\n  marker.setLatLng([35.41255, 139.41238])\n}\n\naddress.value = Object.values(marker._latlng)\n\nmarker.on('move', (evt) => {\n  let cords = Object.values(evt.target.getLatLng());\n  address.value = cords[0].toFixed(5) + ', ' + cords[1].toFixed(5);\n})\n\nexport {marker, setStartAddress, map, sameIcon}\n","const Urls = {\n  GET: 'https://23.javascript.pages.academy/keksobooking/data',\n  POST: 'https://23.javascript.pages.academy/keksobooking',\n}\n\nconst createFetch = (onSuccess, onError, method, data) => {\n  fetch(\n    Urls[method],\n    {\n      method: method,\n      credentials: 'same-origin',\n      body: data\n    },\n  )\n    .then((response) => response.json())\n    .then((response) => {\n      onSuccess(response);\n    })\n    .catch((err) => {\n      onError(err);\n    });\n};\n\nexport {createFetch}\n\n\n","import { map } from \"./map.js\"\nconst filtersForm = document.querySelector('.map__filters')\n\nconst onChangeForm = (cb) => {\n  filtersForm.addEventListener('change', cb)\n}\n\nfiltersForm.addEventListener('change', () => {\n  map.closePopup()\n})\nconst features = document.querySelector('#housing-features');\n\nconst adsFiltration = (data) => {\n  const housingType = document.querySelector('#housing-type');\n  const housingPrice = document.querySelector('#housing-price');\n  const housingRooms = document.querySelector('#housing-rooms');\n  const housingGuests = document.querySelector('#housing-guests');\n  const choisenFeatures = features.querySelectorAll(':checked');\n  let isFeatures = true\n  if (choisenFeatures.length !== 0 && data.offer.features && choisenFeatures.length > data.offer.features.length) {\n    console.log(choisenFeatures)\n    isFeatures = false\n  }\n  if (choisenFeatures.length !== 0 && data.offer.features) {\n    let rank = 0\n    for (let i = 0; i < choisenFeatures.length; i++) {\n    if (data.offer.features.includes(choisenFeatures[i].value)) {\n      rank += 1\n    }\n  }\n    if (rank !== choisenFeatures.length) {\n      isFeatures = false\n  }\n}\nif (choisenFeatures.length !== 0 && !data.offer.features) {\n  isFeatures = false\n}\n  return (housingType.value === data.offer.type || housingType.value === 'any') &&\n  ((housingPrice.value === 'middle' && (data.offer.price > 10000 && data.offer.price < 50000) || housingPrice.value === 'any') ||\n  ((housingPrice.value === 'low' && data.offer.price < 10000) || housingPrice.value === 'any') ||\n  ((housingPrice.value === 'high' && data.offer.price > 50000) || housingPrice.value === 'any')) &&\n  ((Number(housingRooms.value) === data.offer.rooms || housingRooms.value === 'any')) &&\n  ((Number(housingGuests.value) === data.offer.guests || housingGuests.value === 'any')) && isFeatures\n}\n\nexport {onChangeForm, adsFiltration}\n","import {adsFiltration} from \"./filters.js\";\nimport {sameIcon, map} from \"./map.js\"\n// const map = document.querySelector('.map');\nlet markers\nconst card = document.querySelector('#card')\n  .content\n  .querySelector('.popup');\nconst fragment = document.createDocumentFragment();\nconst renderDeclarations = (data) => {\n  const leaflet = document.querySelector('.leaflet-marker-pane')\n  for (let i = fragment.children.length - 1; i >= 0; i--) {\n    fragment.removeChild(fragment.children[i])\n  }\n  for (let i = leaflet.children.length - 1; i > 0; i--) {\n    leaflet.removeChild(leaflet.children[i])\n  }\n  data\n  .slice()\n  .filter(adsFiltration)\n  .slice(0, 10)\n  .forEach(({author, location, offer}, index)=>{\n  const cardElement = card.cloneNode(true);\n  cardElement.querySelector('.popup__title').textContent = offer.title;\n  cardElement.querySelector('.popup__text--address').textContent = offer.address;\n  cardElement.querySelector('.popup__text--price').textContent = offer.price + ' ₽/ночь';\n  switch (offer.type) {\n    case 'bungalow': cardElement.querySelector('.popup__type').textContent = 'Бунгало';\n    break\n    case 'flat': cardElement.querySelector('.popup__type').textContent = 'Квартира';\n    break\n    case 'hotel': cardElement.querySelector('.popup__type').textContent = 'Отель';\n    break\n    case 'house': cardElement.querySelector('.popup__type').textContent = 'Дом';\n    break\n    case 'palace': cardElement.querySelector('.popup__type').textContent = 'Дворец';\n  }\n  const guestsAmount = offer.guests;\n  const roomsAmount = offer.rooms;\n  let guestsString = ' гостя';\n  let roomsString = ' комната';\n  if (guestsAmount > 1) {\n    guestsString = ' гостей'\n  }\n  if (roomsAmount > 1 ) {\n    roomsString = ' комнаты'\n  }\n  if (roomsAmount > 4 ) {\n    roomsString = ' комнат'\n  }\n  cardElement.querySelector('.popup__text--capacity').textContent = roomsAmount + roomsString + ' для ' + guestsAmount + guestsString;\n  cardElement.querySelector('.popup__text--time').textContent = 'Заезд после ' + offer.checkin + ', выезд до ' + offer.checkout;\n  const popupFeatures = cardElement.querySelector('.popup__features');\n  for (let i = popupFeatures.children.length - 1; i >= 0; i--) {\n  const child = popupFeatures.children[i];\n  child.parentElement.removeChild(child);\n} try {\n  for (let i = 0; i < offer.features.length; i++) {\n  const popupFeature = document.createElement('li');\n  popupFeature.classList.add('popup__feature');\n  popupFeature.classList.add('popup__feature--' + offer.features[i]);\n  popupFeatures.appendChild(popupFeature);\n  }\n} catch (err) {\n  cardElement.removeChild(popupFeatures);\n}\n  cardElement.querySelector('.popup__description').textContent = offer.description;\n  let picture =  cardElement.querySelector('.popup__photos img');\n  let popupPhotos =  cardElement.querySelector('.popup__photos');\n  try {\n  for (let i = 0; i < offer.photos.length-1; i++) {\n    popupPhotos.appendChild(picture.cloneNode());\n  }}\n  catch (err) {\n    cardElement.removeChild(popupPhotos);\n  }\n  let photo = popupPhotos.children;\n  try {\n  for (let i = 0; i < photo.length; i++) {\n    photo[i].src = offer.photos[i];\n  }}\n  catch(err) {\n    console.log('Нет фотографий: '+err.message, err.stack)\n  };\n  cardElement.querySelector('.popup__avatar').src = author.avatar;\n  fragment.appendChild(cardElement)\n  markers = L.marker ({\n          lat : location.lat,\n          lng : location.lng\n        },\n        {\n            icon : sameIcon\n        })\n        markers\n        .addTo(map)\n        .bindPopup(cardElement)\n})\nconsole.log(fragment)\nreturn fragment\n}\n\nexport {renderDeclarations}\n","/* global _:readonly */\n'use strict';\n\nimport \"./map.js\";\nimport {createFetch} from \"./fetch.js\";\nimport { renderDeclarations } from \"./declarations.js\";\nimport \"./util.js\";\nimport \"./send-form-validation.js\";\nimport \"./filters.js\"\nimport {onChangeForm } from \"./filters.js\";\n\nconst onSuccess = (data) => {\n  renderDeclarations(data);\n  onChangeForm(_.debounce(()=> renderDeclarations(data), 500,))\n};\n\nconst onError = (err) => {\n  alert('Ошибка загрузки данных ' + err.stack)\n};\n\ncreateFetch(onSuccess, onError, 'GET');\n"],"names":["typeOfHouse","document","querySelector","minPrice","timeIn","timeOut","capacity","roomNumber","avatarInput","avatarPreview","photoInput","photoPreviewContainer","IMAGE_TYPES","addEventListener","fileAvatar","files","fileAvatarName","name","toLowerCase","some","it","endsWith","reader","FileReader","src","result","readAsDataURL","photoPreview","createElement","width","height","appendChild","value","min","placeholder","setCustomValidity","reportValidity","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","adForm","adFormItems","children","mapFilters","mapFiltersItems","i","length","setAttribute","classList","add","address","map","L","on","remove","removeAttribute","activatePage","setView","lat","lng","tileLayer","attribution","addTo","mainPinIcon","icon","iconUrl","iconSize","iconAnchor","marker","draggable","sameIcon","Object","values","_latlng","evt","cords","target","getLatLng","toFixed","Urls","GET","POST","filtersForm","closePopup","features","adsFiltration","data","housingType","housingPrice","housingRooms","housingGuests","choisenFeatures","querySelectorAll","isFeatures","offer","console","log","rank","includes","type","price","Number","rooms","guests","markers","card","content","fragment","createDocumentFragment","renderDeclarations","leaflet","removeChild","slice","filter","forEach","author","location","index","cardElement","cloneNode","textContent","title","guestsAmount","roomsAmount","guestsString","roomsString","checkin","checkout","popupFeatures","child","parentElement","popupFeature","err","description","picture","popupPhotos","photos","photo","message","stack","avatar","bindPopup","fetch","method","credentials","body","createFetch","then","response","json","cb","_","debounce","onSuccess","catch","alert","onError"],"sourceRoot":""}